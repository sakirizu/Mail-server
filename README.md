# 📧 メールサーバー - 日本語 UI

美しい日本語インターフェース、モダンなデザイン、そしてブラーエフェクトとスプリングアニメーションを備えたエレガントな80%画面カバー率の作成モーダルを搭載したメールアプリケーションです。

## ✨ 特徴

- 🇯🇵 **完全日本語 UI** - 全てのインターフェースが日本語に対応
- 📨 **メール管理** - メールの送信、受信、整理が可能
- ✏️ **美しい作成モーダル** - ブラー背景と滑らかなスプリングアニメーションを備えた8割表示のモーダル
- 📥 **フォルダ管理** - 受信トレイ、送信済み、下書き、ゴミ箱、迷惑メール
- 🎨 **モダンなブルーデザイン** - iOSスタイルのブルー（#007AFF）とグラデーションを採用したテーマ
- 📱 **レスポンシブレイアウト** - モバイルとウェブの両方に対応
- 🔐 **セキュアな認証** - JWTトークンによるログイン/新規登録
- 💾 **ハイブリッドストレージ** - MongoDB + ファイルシステムによるストレージ

## 🎨 デザインのハイライト

### 作成モーダル
- **80% の画面カバー率** - 左右に15%、上下に10%のマージンを持たせた中央配置
- **美しいブルーのヘッダー** - iOSスタイルに合わせたグラデーションブルーのヘッダー
- **グラスモーフィズム** - 20pxのブラーがかかった白の透過背景（不透明度0.2）
- **滑らかなスプリングアニメーション** - 自然な操作感（tension: 80, friction: 6）
- **ボーダーレス入力** - 16pxの角丸と影を基調としたクリーンなデザイン
- **入力欄の上のラベル** - 70%幅の入力欄で見やすいレイアウト
- **ブルーの送信ボタン** - グラデーションブルー（65%幅）と光る影のエフェクト
- **丸みを帯びた角** - プレミアム感を演出する24pxの角丸

### UI の特徴
- 入力欄の境界線を排除 (borderWidth: 0)
- 滑らかな遷移とアニメーション
- 日本語ラベル: 宛先, 件名, 本文
- アイコン付きのクリーンな白い閉じるボタン
- ヘッダーに配置された下書き保存ボタン
- プロフェッショナルなタイポグラフィとスペーシング

## 🚀 インストール方法

### 前提条件
- Node.js (v14 以上)
- MongoDB (ローカルまたはリモートで実行中)
- npm または yarn

### フロントエンドのセットアップ

```bash
# 依存関係のインストール
npm install

# アプリの起動
npm start
```

### バックエンドのセットアップ

```bash
# バックエンドディレクトリへ移動
cd backend

# 依存関係のインストール
npm install

# サーバーの起動
npm start
```

バックエンドは `http://localhost:3001` で動作します。

## 🛠️ 使用技術

### フロントエンド
- React Native
- React Navigation 7.x
- Animated API (スプリングアニメーション)
- AsyncStorage
- カスタムフック (useAuth)
- プラットフォーム固有のスタイリング (ウェブ版ブラーエフェクト)

### バックエンド
- Node.js
- Express
- MongoDB/Mongoose
- JWT 認証
- Bcrypt
- ハイブリッドメールサービス (MongoDB + ファイルシステム)

## 📱 画面構成

1. **ログイン画面** - ユーザー認証
2. **登録画面** - 新規ユーザー登録
3. **受信トレイ** - 受信したメール一覧
4. **送信済み** - 送信したメール一覧
5. **下書き** - 保存した下書き一覧
6. **作成モーダル** - 美しい80%表示のモーダル
7. **メール詳細** - メールの詳細表示
8. **ゴミ箱** - 削除したメール
9. **迷惑メール** - 迷惑メールフォルダ

## 🎯 API エンドポイント

```
POST   /api/auth/login          - ユーザーログイン
POST   /api/auth/register       - ユーザー登録
GET    /api/mails/:folder       - フォルダごとのメール取得
GET    /api/mails/detail/:id    - メールの詳細取得
POST   /api/mails/send          - 新規メール送信
POST   /api/mails/draft         - 下書き保存
DELETE /api/mails/:id           - メールの削除
PUT    /api/mails/:id/read      - 既読にする
```

## 🎨 作成モーダルの特徴

```javascript
// 美しいアニメーション
- スライドアップ: translateY を screenHeight から 0 へ
- スケールアニメーション: 0.9 から 1.0 へ
- 背景のフェード: 不透明度 0 から 1 へ
- スプリング物理学: tension 80, friction 6
- 所要時間: 250ms で滑らかな質感

// スタイリング詳細
- モーダルサイズ: 80% カバー (幅 70%, 高さ 80%)
- 角丸: 全ての角に 24px
- ヘッダー: ブルーグラデーション (#007AFF から #0056D3)
- 背景: rgba(255,255,255,0.2) + 20px ブラー
- 入力欄: 70% 幅, 16px 角丸, 境界線なし
- 送信ボタン: 65% 幅, 25px 角丸, ブルーグラデーション
- シャドウ: 奥行きを出すための多層レイヤー
```

## 🔧 設定

backend ディレクトリに `.env` ファイルを作成してください：

```env
PORT=3001
MONGODB_URI=mongodb://localhost:27017/maildb
JWT_SECRET=your-secret-key-here
```

## 📂 プロジェクト構造

```
D/
├── src/
│   ├── components/
│   │   ├── ComposeModal.js    # ブラーエフェクト付きの80%モーダル
│   │   ├── Sidebar.js          # ナビゲーションサイドバー
│   │   └── ...
│   ├── screens/
│   │   ├── InboxScreen.js
│   │   ├── MailDetailScreen.js
│   │   ├── LoginScreen.js
│   │   └── ...
│   ├── context/
│   │   └── AuthContext.js      # 認証コンテキスト
│   └── styles/
│       └── theme.js            # カラーテーマ
├── backend/
│   ├── server.js               # Express サーバー
│   ├── hybridMailService.js    # ハイブリッドメールサービス
│   ├── mongoMailService.js     # MongoDB サービス
│   └── mailService.js          # ファイルシステムサービス
├── App.js                      # メメインアプリコンポーネント
├── package.json
└── README.md
```

## 👨‍💻 著者

**Sakir Izu**
- GitHub: [@sakirizu](https://github.com/sakirizu)
- リポジトリ: [Mail-server](https://github.com/sakirizu/Mail-server)

## 📄 ライセンス

このプロジェクトはオープンソースであり、MITライセンスの下で公開されています。

## 🙏 謝辞

- 完全日本語対応の美しい日本語UIデザイン
- モダンなグラスモーフィズムとブラーエフェクト (backdrop-filter)
- 自然な物理法則に基づいた滑らかなスプリングアニメーション
- グラデーションを用いたiOSスタイルのブルーテーマ (#007AFF)
- 影を活用したクリーンでボーダーレスな入力欄デザイン
- ユーザー体験を向上させる80%のモーダルカバー率
- プラットフォーム固有の最適化 (ウェブ版ブラー、ネイティブ版シャドウ)

## 🐛 既知の問題

現在のところありません。問題を見つけた場合はGitHubで報告してください！

## 🔮 今後の改善案

- [ ] ファイル添付機能のサポート
- [ ] メール本文のリッチテキストエディタ
- [ ] メールテンプレート
- [ ] ダークモード対応
- [ ] プッシュ通知
- [ ] 高度な検索機能
- [ ] 連絡先管理
- [ ] メール署名
- [ ] 複数アカウント対応
